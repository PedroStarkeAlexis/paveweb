/* src/features/calculadora/components/Etapa.css */

.calc-etapa { /* Classe principal do componente */
    background-color: transparent; /* Sem fundo próprio por padrão */
    border: none; /* Sem borda própria por padrão */
    padding: 0; /* Sem padding próprio por padrão */
    margin-bottom: 20px; /* Espaço entre etapas se múltiplas visíveis */
    transition: background-color 0.3s ease, border-color 0.3s ease;
}

.calc-etapa h2 {
    color: var(--text-primary);
    margin-top: 0;
    margin-bottom: 20px;
    font-size: 1.3em;
    font-weight: 500; /* Ajuste peso */
    transition: color 0.3s ease;
    padding-bottom: 10px;
    border-bottom: 1px dashed var(--border-primary); /* Linha pontilhada */
}

.calc-etapa label {
    display: inline-block; /* Alinha melhor com input */
    margin-bottom: 8px;
    margin-right: 10px; /* Espaço antes do input */
    color: var(--text-secondary);
    font-weight: 500; /* Ajuste peso */
    font-size: 1em;
    transition: color 0.3s ease;
    min-width: 60px; /* Largura mínima para alinhar */
}

.calc-etapa input[type="number"] {
    padding: 10px 12px; /* Padding ajustado */
    margin-bottom: 15px;
    border: 1px solid var(--border-secondary); /* Usa variável */
    border-radius: 6px; /* Borda ajustada */
    font-size: 1em;
    background-color: var(--bg-primary); /* Usa variável */
    color: var(--text-primary); /* Usa variável */
    transition: border-color 0.2s ease, background-color 0.3s ease, color 0.3s ease;
    width: 90px; /* Largura ajustada */
    box-sizing: border-box;
}
 .calc-etapa input[type="number"]:focus {
     outline: none;
     border-color: var(--brand-primary); /* Foco com cor da marca */
     box-shadow: 0 0 0 1px var(--brand-primary);
 }


/* Mensagem de erro específica da etapa */
.calc-error-message {
    color: var(--error-primary); /* Usa variável */
    font-size: 0.9em;
    margin-top: -10px;
    margin-bottom: 15px; /* Aumenta espaço inferior */
    padding-left: 70px; /* Indenta para alinhar com inputs */
}
.calc-etapa input[aria-invalid="true"] {
    border-color: var(--error-primary) !important; /* Prioriza borda de erro */
    box-shadow: 0 0 0 1px var(--error-primary); /* Adiciona sombra de erro */
}


/* Notas e Porcentagens */
.calc-nota-etapa-individual,
.calc-porcentagem-etapa {
    margin-top: 5px;
    font-size: 0.95em;
    color: var(--text-secondary);
    transition: color 0.3s ease;
    padding-left: 5px; /* Pequeno recuo */
}
.calc-nota-etapa-individual {
    font-weight: 500;
    color: var(--text-primary);
}

/* --- DARK MODE para Etapa --- */
[data-theme="dark"] .calc-etapa h2 {
    color: var(--text-primary);
    border-bottom-color: var(--border-primary);
}
[data-theme="dark"] .calc-etapa label {
    color: var(--text-secondary);
}
[data-theme="dark"] .calc-etapa input[type="number"] {
    background-color: #3a3a3a; /* Cor específica */
    color: var(--text-primary);
    border-color: var(--border-secondary);
}
[data-theme="dark"] .calc-etapa input[type="number"]:focus {
     border-color: var(--brand-primary);
     box-shadow: 0 0 0 1px var(--brand-primary);
 }
[data-theme="dark"] .calc-error-message {
    color: var(--error-primary);
}
[data-theme="dark"] .calc-etapa input[aria-invalid="true"] {
     border-color: var(--error-primary) !important;
     box-shadow: 0 0 0 1px var(--error-primary);
 }
[data-theme="dark"] .calc-nota-etapa-individual {
    color: var(--text-primary);
}
[data-theme="dark"] .calc-porcentagem-etapa {
    color: var(--text-muted);
}

/* --- Responsividade Etapa --- */
 @media (max-width: 600px) {
     .calc-etapa h2 { font-size: 1.2em; margin-bottom: 15px; }
     .calc-etapa label { font-size: 0.95em; min-width: 50px; margin-right: 5px;}
     .calc-etapa input[type="number"] { padding: 10px 8px; font-size: 1em; width: 80px; }
     .calc-error-message { padding-left: 55px; }
 }
 @media (max-width: 380px) {
     .calc-etapa input[type="number"] { width: 70px; }
     .calc-error-message { padding-left: 0; /* Remove indentação */ margin-top: 5px; }
 }