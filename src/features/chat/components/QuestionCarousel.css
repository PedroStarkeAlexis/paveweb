/* 
  .question-carousel-container é a "bolha" de mensagem do bot.
  Ele já herda estilos de .bot-message como background, border-radius geral, e padding.
  O padding padrão de .bot-message (10px 15px) será o espaçamento externo.
*/
.question-carousel-container {
  /* Herda de .bot-message, mas podemos adicionar/sobrescrever se necessário */
  display: flex;
  flex-direction: column;
  /* padding: 10px 15px; // Já vem de .bot-message, não precisa repetir aqui */
  /* Garantir que o padding de .bot-message seja respeitado pelos filhos */
  box-sizing: border-box;
}

.carousel-controls {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  padding-bottom: 10px; /* Espaço entre controles e a questão */
  gap: 8px;
  width: 100%; /* Ocupa a largura disponível dentro do padding do container */
  box-sizing: border-box;
}

.carousel-nav-button {
  background-color: var(--bg-primary); /* Para contraste com a bolha do bot */
  border: 1px solid var(--border-secondary);
  color: var(--text-muted);
  border-radius: 50%;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background-color 0.2s ease, border-color 0.2s ease,
    color 0.2s ease;
  padding: 0;
}
.carousel-nav-button svg {
  width: 14px;
  height: 14px;
}
.carousel-nav-button:hover:not(:disabled) {
  background-color: var(--bg-tertiary);
  color: var(--text-primary);
  border-color: var(--text-muted);
}
.carousel-nav-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}
.carousel-counter {
  font-size: 0.8em;
  color: var(--text-muted);
  font-weight: 500;
}

.carousel-viewport {
  width: 100%; /* Ocupa a largura disponível dentro do padding do container */
  overflow: hidden;
  position: relative;
}

.carousel-track {
  display: flex;
  transition: transform 0.4s cubic-bezier(0.65, 0, 0.35, 1);
  /* width e transform são definidos inline */
}

.question-carousel-item {
  flex-shrink: 0;
  width: 100%; /* Cada item terá 100% da largura da viewport */
  box-sizing: border-box;
  /* 
    NÃO adicione padding lateral aqui. O padding já está no .question-carousel-container (herdado de .bot-message).
    O QuestionLayout dentro deste item vai se expandir para 100% desta largura.
  */
}

.question-carousel-item .question-layout {
  width: 100%;
  max-width: 100%; /* Garante que não ultrapasse o item */
  margin: 0; /* Remove quaisquer margens padrão do QuestionLayout */
  /* 
    As bordas, sombras e paddings INTERNOS do QuestionLayout (para .question-header, .question-body)
    devem ser mantidos para que ele se pareça com um card individual.
    O QuestionLayout em si não deve ter padding externo ou margem aqui.
  */
  border: 1px solid var(--border-primary); /* Re-aplicando borda para o "card" interno, se QuestionLayout não tiver */
  border-radius: 8px; /* Re-aplicando borda para o "card" interno */
  background-color: var(--bg-primary); /* Fundo do card de questão */
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05); /* Sombra sutil para o card */
}
[data-theme="dark"] .question-carousel-item .question-layout {
  border-color: var(--border-secondary);
  background-color: var(--bg-tertiary); /* Fundo do card no dark mode */
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

/* Dark Mode para Controles (já deve estar ok, mas verificando) */
[data-theme="dark"] .carousel-nav-button {
  background-color: var(
    --bg-tertiary
  ); /* Ajustado para melhor contraste no dark */
  border-color: var(--border-primary);
  color: var(--text-muted);
}
[data-theme="dark"] .carousel-nav-button:hover:not(:disabled) {
  background-color: #4a4a4a;
  color: var(--text-primary);
  border-color: var(--text-muted);
}
[data-theme="dark"] .carousel-counter {
  color: var(--text-muted);
}

/* Responsividade */
@media (max-width: 400px) {
  .carousel-controls {
    /* padding: 0 10px 8px 10px; // Removido, o padding do container principal cuida disso */
    padding-bottom: 8px;
  }
  .carousel-nav-button {
    width: 26px;
    height: 26px;
  }
  .carousel-nav-button svg {
    width: 12px;
    height: 12px;
  }
}
